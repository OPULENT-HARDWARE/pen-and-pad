<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta
  name="viewport"
  content="width=device-width, initial-scale=1, user-scalable=no, viewport-fit=cover"
/>
<title>Scribble Note â€” Pen & Pad</title>
<style>
  :root{
    --paper:#f4fff7;          /* light engineering pad tint */
    --dots:#7aa68a;           /* dot color */
    --ui:#0e2b1f;             /* UI text */
    --ui-muted:#5c7a6a;       /* subtle UI */
    --accent:#1aa36f;         /* buttons */
    --accent-2:#0d8157;
    --shadow:rgba(0,0,0,.25);
    --perforation:#d2e8db;
  }
  *{box-sizing:border-box}
  html,body{margin:0;height:100%}
  body{
    min-height:100svh;        /* mobile-safe viewport height */
    background:var(--paper);
    color:var(--ui);
    font-family:system-ui, -apple-system, Segoe UI, Roboto, Inter, Helvetica, Arial, sans-serif;
  }
  .wrap{
    position:relative;
    width:100%;
    min-height:100svh;
    height:100%;
    overflow:hidden;
  }

  /* Toolbar */
  .toolbar{
    position:absolute; top:12px; left:50%; transform:translateX(-50%);
    display:flex; gap:10px; align-items:center; flex-wrap:wrap;
    padding:8px 12px; background:rgba(255,255,255,.7);
    backdrop-filter:saturate(1.2) blur(6px);
    border:1px solid rgba(0,0,0,.08); border-radius:14px;
    box-shadow:0 6px 18px var(--shadow); z-index:3; user-select:none;
  }
  .title{font-weight:600; letter-spacing:.2px; margin-right:8px; color:var(--ui)}
  .btn{
    appearance:none; border:0; outline:0; cursor:pointer;
    padding:8px 12px; border-radius:12px;
    background:var(--accent); color:white; font-weight:600;
    transition:transform .05s ease, background .15s ease;
  }
  .btn:active{ transform:translateY(1px) }
  .btn.secondary{ background:transparent; color:var(--ui); border:1px solid rgba(0,0,0,.12) }
  .btn:hover{ background:var(--accent-2) }
  .btn.toggle.active{ box-shadow: inset 0 0 0 2px rgba(255,255,255,.9) }
  .control{display:flex; align-items:center; gap:8px; font-size:.9rem; color:var(--ui)}
  .select, .range, .number{
    padding:6px 8px; border-radius:10px; border:1px solid rgba(0,0,0,.12); background:rgba(255,255,255,.8)
  }
  input[type="range"]{ accent-color:var(--accent) }
  label{ color:var(--ui-muted) }
  .hint{ font-size:.85rem; color:var(--ui-muted) }

  /* Canvases */
  canvas#grid, canvas#ink{
    position:absolute; inset:0; width:100%; height:100%;
    touch-action:none; /* allow drawing on*
